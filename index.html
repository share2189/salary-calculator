<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å…¬å¸è–ªè³‡è¨ˆç®—å™¨</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#111a2e;
      --muted:#97a3b8;
      --text:#e9eefc;
      --line:rgba(255,255,255,.10);
      --good:#19c37d;
      --bad:#ff4d4f;
      --brand:#4da3ff;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Arial, "Noto Sans TC", "PingFang TC", sans-serif;
      background: radial-gradient(900px 600px at 20% 0%, rgba(77,163,255,.16), transparent 60%),
                  radial-gradient(900px 600px at 80% 20%, rgba(25,195,125,.14), transparent 60%),
                  var(--bg);
      color:var(--text);
    }
    .wrap{max-width:520px; margin:0 auto; padding:18px 14px 28px}
    .topbar{
      display:flex; align-items:center; gap:10px;
      padding:10px 6px 14px;
    }
    .icon{
      width:36px; height:36px; border-radius:10px;
      background: linear-gradient(135deg, rgba(77,163,255,.95), rgba(25,195,125,.85));
      box-shadow: var(--shadow);
    }
    h1{font-size:22px; margin:0}
    .sub{margin:6px 0 0; color:var(--muted); font-size:13px}
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:14px;
      margin:12px 0;
      backdrop-filter: blur(8px);
    }
    .sec-title{
      display:flex; align-items:center; gap:10px;
      font-size:15px; font-weight:700; margin:2px 0 12px;
    }
    .bar{width:3px; height:16px; background: var(--brand); border-radius:99px}
}
    .row{
  display:grid;
  grid-template-columns: 1fr 150px;
  gap:10px;
  align-items:center;
  padding:10px 0;
  border-top:1px solid var(--line);
}

/* æ‰‹æ©Ÿçª„è¢å¹•ï¼šæ”¹æˆä¸Šä¸‹æ’ï¼Œé¿å…æ“ çˆ† */
@media (max-width: 420px){
.row{
    grid-template-columns: 1fr;
    align-items: start;
  }
  .pill{
    justify-self: start;
  }
}
  .hint{
  color: var(--muted);
  font-size: 12px;
  margin-top: 2px;
  white-space: normal;
  overflow-wrap: anywhere;
  word-break: break-word;
    }
    input[type="number"]{
      width:100%;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: var(--text);
      outline:none;
      font-size:15px;
    }
    input[disabled]{
      opacity:.9;
      background: rgba(0,0,0,.14);
    }
    .pill{
      display:inline-flex; gap:6px; align-items:baseline;
      justify-content:flex-end;
      font-variant-numeric: tabular-nums;
    }
    .money{font-size:15px; font-weight:800}
    .pos{color:var(--good)}
    .neg{color:var(--bad)}
    .unit{color:var(--muted); font-size:12px; font-weight:600}
    .split{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    .mini{
      padding:12px;
      border-radius:14px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.10);
    }
    .mini .k{color:var(--muted); font-size:12px}
    .mini .v{font-size:18px; font-weight:900; margin-top:4px}
    .btn{
      width:100%;
      margin-top:12px;
      padding:14px 14px;
      border:0;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(77,163,255,.95), rgba(25,195,125,.88));
      color:#04101f;
      font-weight:900;
      font-size:16px;
      box-shadow: var(--shadow);
    }
    .toggle{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px;
      padding:10px 0;
      border-top:1px solid var(--line);
    }
    .toggle label{font-size:14px}
    .toggle input{transform: scale(1.1)}
    details{margin-top:10px}
    summary{cursor:pointer; color:var(--muted); font-size:13px}
    .foot{color:var(--muted); font-size:12px; margin-top:12px; line-height:1.5}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="icon"></div>
      <div>
        <h1>å…¬å¸è–ªè³‡è¨ˆç®—å™¨</h1>
        <div class="sub">æ‰‹æ©Ÿç‰ˆï½œä¾ä½ çš„æ‰‹ç¨¿è¦å‰‡è¨ˆç®—ï¼ˆå¯å†èª¿æ•´ï¼‰</div>
      </div>
    </div>

    <div class="card">
      <div class="sec-title"><span class="bar"></span>åŸºæœ¬è³‡æ–™</div>

      <div class="row">
        <div>
          <div class="label">åº•è–ªï¼ˆAï¼‰</div>
          <div class="hint">è¼¸å…¥æœˆè–ª</div>
        </div>
        <input id="A" type="number" inputmode="numeric" min="0" value="36000"/>
      </div>

      <div class="row">
        <div>
          <div class="label">æ™‚è–ªï¼ˆBï¼‰</div>
          <div class="hint">B = A Ã· 240ï¼ˆè‡ªå‹•ï¼‰</div>
        </div>
        <input id="B" type="number" disabled />
      </div>

      <div class="toggle">
        <label>çµç®—æ˜¯å¦åŒ…å«åº•è–ª A</label>
        <input id="includeBase" type="checkbox" checked />
      </div>
    </div>

    <div class="card">
      <div class="sec-title"><span class="bar"></span>åŠ ç­</div>

      <div class="row">
        <div>
          <div class="label">å¹³æ—¥åŠ ç­å¤©æ•¸ï¼ˆCï¼‰</div>
          <div class="hint">2H Ã— 1.33 + 0.8H Ã— 1.67</div>
        <input id="C" type="number" inputmode="numeric" min="0" value="0"/>
      </div>
      <div class="row">
        <div class="label">å¹³æ—¥åŠ ç­é‡‘é¡ï¼ˆDï¼‰</div>
        <div class="pill"><span id="D" class="money pos">+0</span><span class="unit">å…ƒ</span></div>
      </div>

      <div class="row">
        <div>
          <div class="label">å‡æ—¥åŠ ç­ 8H å¤©æ•¸ï¼ˆEï¼‰</div>
          <div class="hint">2HÃ—1.33 + 6HÃ—1.67</div>
        </div>
        <input id="E" type="number" inputmode="numeric" min="0" value="0"/>
      </div>
      <div class="row">
        <div class="label">å‡æ—¥åŠ ç­é‡‘é¡ï¼ˆFï¼‰</div>
        <div class="pill"><span id="F" class="money pos">+0</span><span class="unit">å…ƒ</span></div>
      </div>

      <div class="row">
        <div>
          <div class="label">å‡æ—¥åŠ ç­ 12H å¤©æ•¸ï¼ˆGï¼‰</div>
          <div class="hint">2HÃ—1.33 + 6HÃ—1.67 + 2.8HÃ—2.67</div>
        </div>
        <input id="G" type="number" inputmode="numeric" min="0" value="0"/>
      </div>
      <div class="row">
        <div class="label">å‡æ—¥åŠ ç­é‡‘é¡ï¼ˆHï¼‰</div>
        <div class="pill"><span id="H" class="money pos">+0</span><span class="unit">å…ƒ</span></div>
      </div>

      <details>
        <summary>æŸ¥çœ‹åŠ ç­æ™‚æ•¸æ˜ç´°ï¼ˆI / J / Kï¼‰</summary>
        <div class="split">
          <div class="mini">
            <div class="k">1.33 å€æ™‚æ•¸ï¼ˆIï¼‰</div>
            <div id="I" class="v">0</div>
          </div>
          <div class="mini">
            <div class="k">1.67 å€æ™‚æ•¸ï¼ˆJï¼‰</div>
            <div id="J" class="v">0</div>
          </div>
          <div class="mini">
            <div class="k">2.67 å€æ™‚æ•¸ï¼ˆKï¼‰</div>
            <div id="K" class="v">0</div>
          </div>
        </div>
      </details>
    </div>

    <div class="card">
      <div class="sec-title"><span class="bar"></span>è«‹å‡</div>

      <div class="row">
        <div>
          <div class="label">è«‹å‡å…¨è–ªå¤©æ•¸ï¼ˆLï¼‰</div>
          <div class="hint">æ‰£æ¬¾ M = B Ã— 8 Ã— L</div>
        </div>
        <input id="L" type="number" inputmode="numeric" min="0" value="0"/>
      </div>
      <div class="row">
        <div class="label">æ‰£æ¬¾ï¼ˆMï¼‰</div>
        <div class="pill"><span id="M" class="money neg">-0</span><span class="unit">å…ƒ</span></div>
      </div>

      <div class="row">
        <div>
          <div class="label">è«‹å‡åŠè–ªå¤©æ•¸ï¼ˆOï¼‰</div>
          <div class="hint">æ‰£æ¬¾ P = B Ã— 4 Ã— O</div>
        </div>
        <input id="O" type="number" inputmode="numeric" min="0" value="0"/>
      </div>
      <div class="row">
        <div class="label">æ‰£æ¬¾ï¼ˆPï¼‰</div>
        <div class="pill"><span id="P" class="money neg">-0</span><span class="unit">å…ƒ</span></div>
      </div>
    </div>

    <div class="card">
      <div class="sec-title"><span class="bar"></span>å…¶ä»–</div>

      <div class="row">
        <div>
          <div class="label">å…¶ä»–åŠ é …ï¼ˆQï¼‰</div>
          <div class="hint">ä¾‹å¦‚ï¼šæ´¥è²¼ã€çé‡‘</div>
        </div>
        <input id="Q" type="number" inputmode="numeric" value="0"/>
      </div>

      <div class="row">
        <div>
          <div class="label">å…¶ä»–æ‰£é …ï¼ˆRï¼‰</div>
          <div class="hint">ä¾‹å¦‚ï¼šä»£æ‰£ã€ç½°æ¬¾</div>
        </div>
        <input id="R" type="number" inputmode="numeric" value="0"/>
      </div>
    </div>

    <div class="card">
      <div class="sec-title"><span class="bar"></span>çµç®—çµæœ</div>

      <div class="split">
        <div class="mini">
          <div class="k">åŠ é …åˆè¨ˆ</div>
          <div id="addTotal" class="v pos">+0</div>
        </div>
        <div class="mini">
          <div class="k">æ‰£é …åˆè¨ˆ</div>
          <div id="dedTotal" class="v neg">-0</div>
        </div>
      </div>

      <div class="mini" style="margin-top:10px">
        <div class="k">å¯¦é ˜è–ªè³‡ï¼ˆTï¼‰</div>
        <div id="T" class="v">0</div>
      </div>

      <button class="btn" id="calcBtn">è¨ˆç®—è–ªè³‡</button>

      <div class="foot">
        è¨»ï¼šåŠ ç­å€ç‡èˆ‡æ¯ä¸€å¤©å°æ™‚æ•¸å…ˆç…§ä½ æ‰‹ç¨¿ï¼ˆå¹³æ—¥ 2hã€å‡æ—¥ 8h/12h åˆ†æ®µå€ç‡ï¼‰åšç¬¬ä¸€ç‰ˆã€‚è‹¥ä½ å…¬å¸è¦å‰‡ä¸åŒï¼Œæˆ‘å€‘ä¸‹ä¸€æ­¥å°±æŠŠå€ç‡/å°æ™‚æ”¹æˆå¯èª¿ã€‚
      </div>
      <div style="margin-top:16px; text-align:center;">
  <button id="resetBtn" class="btn">
    ğŸ”„ ä¸€éµæ¸…ç©ºé‡æ–°è¨ˆç®—
  </button>
      </div>
    </div>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);
    const toNum = (v) => Number(v || 0);

    function fmt(n){
      const x = Math.round(n);
      return x.toLocaleString("zh-Hant");
    }
    function signFmt(n){
      const x = Math.round(n);
      const s = x >= 0 ? "+" : "-";
      return s + fmt(Math.abs(x));
    }

    function calc(){
      const A = toNum($("A").value);
      const B = A / 240;

      const C = toNum($("C").value);
      const E = toNum($("E").value);
      const G = toNum($("G").value);

      const L = toNum($("L").value);
      const O = toNum($("O").value);

      const Q = toNum($("Q").value);
      const R = toNum($("R").value);

      // åŠ ç­é‡‘é¡ï¼ˆä¾ä½ çš„æ–°è¦å‰‡ï¼‰
// å¹³æ—¥åŠ ç­ï¼šæ¯æ¬¡å›ºå®š 2HÃ—1.33 + 0.8HÃ—1.67
const D = C * (B * 1.33 * 2 + B * 1.67 * 0.8);

 // å‡æ—¥åŠ ç­ 8Hï¼š2HÃ—1.33 + 6HÃ—1.67
const F = E * (B * 1.33 * 2 + B * 1.67 * 6);

// å‡æ—¥åŠ ç­ 12Hï¼š2HÃ—1.33 + 6HÃ—1.67 + 2.8HÃ—2.67
 const H = G * (B * 1.33 * 2 + B * 1.67 * 6 + B * 2.67 * 2.8);

// åŠ ç­æ™‚æ•¸æ˜ç´°ï¼ˆI/J/Kï¼‰
const I = (C * 2) + (E * 2) + (G * 2);         // 1.33 å€æ™‚æ•¸
const J = (C * 0.8) + (E * 6) + (G * 6);       // 1.67 å€æ™‚æ•¸
const K = (G * 2.8);                           // 2.67 å€æ™‚æ•¸

      // è«‹å‡æ‰£æ¬¾
      const M = B * 8 * L;
      const P = B * 4 * O;

      // åˆè¨ˆ
      const addTotal = D + F + H + Q;
      const dedTotal = M + P + R;

      const includeBase = $("includeBase").checked;
      const T = (includeBase ? A : 0) + addTotal - dedTotal;

      $("B").value = (Math.round(B * 100) / 100).toFixed(2);

      $("D").textContent = signFmt(D);
      $("F").textContent = signFmt(F);
      $("H").textContent = signFmt(H);

      $("I").textContent = fmt(I);
      $("J").textContent = fmt(J);
      $("K").textContent = fmt(K);

      $("M").textContent = "-" + fmt(M);
      $("P").textContent = "-" + fmt(P);

      $("addTotal").textContent = signFmt(addTotal);
      $("dedTotal").textContent = "-" + fmt(dedTotal);
      $("T").textContent = fmt(T);
    }

    // å³æ™‚æ›´æ–°
    ["A","C","E","G","L","O","Q","R","includeBase"].forEach(id=>{
      $(id).addEventListener("input", calc);
      $(id).addEventListener("change", calc);
    });
    $("calcBtn").addEventListener("click", calc);

    // åˆå§‹è¨ˆç®—
    $("calcBtn").addEventListener("click", calc);

// ğŸ”½ğŸ”½ğŸ”½ å°±ã€Œè²¼åœ¨é€™è£¡ã€ ğŸ”½ğŸ”½ğŸ”½

// ä¸€éµæ¸…ç©ºé‡æ–°è¨ˆç®—
$("resetBtn")?.addEventListener("click", () => {
  // æ¸…ç©ºæ‰€æœ‰æ•¸å­—è¼¸å…¥
  document.querySelectorAll('input[type="number"]').forEach(inp => {
    inp.value = 0;
  });

  // å‹¾é¸é è¨­ checkboxï¼ˆå¦‚æœæœ‰ï¼‰
  const includeA = document.querySelector('input[type="checkbox"]');
  if (includeA) includeA.checked = true;

  // æ¸…ç©ºé¡¯ç¤ºçµæœï¼ˆå®‰å…¨å¯«æ³•ï¼‰
  ["D","F","H","M","P","addTotal","dedTotal","T"].forEach(id => {
    const el = $(id);
    if (el) el.textContent = "";
  });

  // é‡æ–°è¨ˆç®—ä¸€æ¬¡
  calc();
});

// ğŸ”¼ğŸ”¼ğŸ”¼ è²¼åˆ°é€™è£¡çµæŸ ğŸ”¼ğŸ”¼ğŸ”¼

// åˆå§‹åŒ–è¨ˆç®—
calc();
  </script>
</body>
</html>
